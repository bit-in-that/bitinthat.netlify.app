{
  "hash": "d83caa53b56e109485527dd75195eef6",
  "result": {
    "markdown": "---\ntitle: \"Eva O'Donnell\"\nfreeze: true\nparams:\n  player_first_name: \"Eva\"\n  player_surname: \"O'Donnell\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(reactable)\nlibrary(arrow)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(purrr)\nlibrary(htmltools)\nlibrary(stringr)\n\ncombine_player_details <- read_parquet(\"https://github.com/bit-in-that/data-automation/raw/main/players/data/processed/combine_player_details.parquet\") |> \n  filter(player_first_name == params$player_first_name, player_surname == params$player_surname)\n\nplayerIds <- combine_player_details$playerIds[[1]]\n\nseason_data_table <- read_parquet(\"../../../_tempates/draft_prospects/season_data_table.parquet\") |> \n  filter(\n    playerId %in% playerIds\n  )\n\nmatch_data_table <- read_parquet(\"../../../_tempates/draft_prospects/match_data_table.parquet\") |> \n  filter(\n    playerId %in% playerIds\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncreate_html_table <- function(row_list) {\n  row_list <- row_list |> \n    imap(~{\n      tags$tr(\n        tags$td(tags$b(paste0(.y, \":\"))),\n        tags$td(.x)\n      )\n    })\n  \n  # do.call(tags$table, row_list)\n  tags$table(row_list)\n}\n```\n:::\n\n\n\n::: {.callout-warning}\n\n### Data Disclaimer\n\nNote that data for the interstate underage competition (\"AFL U18 Championships\") are missing behind and free kick data, as such these items are omitted from the calculation of fantasy points and left blank in any tables they are present in.\n\n:::\n\n## Player Details\n\n\n::: {.callout-tip collapse=\"true\"}\n\n### Images\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncombine_player_details$player_images[[1]] |> \n  map(~tags$img(src = .x)) |> \n  tags$span()\n```\n\n::: {.cell-output-display}\n```{=html}\n<span>\n<img src=\"https://s3-ap-southeast-2.amazonaws.com/sportix-storage/players/thumbs/odonnelleva-kKMNa.png\"/>\n</span>\n```\n:::\n:::\n\n\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncombine_player_details |> \n  transmute(\n    `Date of Birth` = date_of_birth, State = state, `State League Club` = state_league_club,\n    `Community Club` = community_club, Height = paste0(player_height_range, \"cm\"), Weight = paste0(player_weight_range, \"kg\"),\n    Urls = player_urls |> map(~{\n      link_labels <- case_when(\n        str_detect(.x, \"wafl.com.au\") ~ \"WAFL\",\n        str_detect(.x,\"central.rookieme.com\") ~ \"Rookie Me Central\",\n        str_detect(.x, \"www.afl.com.au\") ~ \"AFL\",\n        str_detect(.x, \"sanfl.com.au\") ~ \"SANFL\"\n      )\n      \n      map2(.x, link_labels, \\(player_url, link_label) {\n        p(\n          tags$a(\n            link_label, href = player_url, target = \"_blank\"\n          )\n        )\n      })\n    }),\n    `Phantom Draft Ranking (Afl)` = phantom_draft_afl, \n    `Phantom Draft Ranking (Sporting News)` = phantom_draft_sporting_news, \n    `Phantom Draft Ranking (Fox Sports)` = phantom_draft_fox_sports, \n    `Phantom Draft Ranking (Abc)` = phantom_draft_abc\n  ) |> \n  create_html_table()\n```\n\n::: {.cell-output-display}\n```{=html}\n<table>\n<tr>\n<td>\n<b>Date of Birth:</b>\n</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>\n<b>State:</b>\n</td>\n<td>WA</td>\n</tr>\n<tr>\n<td>\n<b>State League Club:</b>\n</td>\n<td>Claremont</td>\n</tr>\n<tr>\n<td>\n<b>Community Club:</b>\n</td>\n<td>Subiaco</td>\n</tr>\n<tr>\n<td>\n<b>Height:</b>\n</td>\n<td>NAcm</td>\n</tr>\n<tr>\n<td>\n<b>Weight:</b>\n</td>\n<td>NAkg</td>\n</tr>\n<tr>\n<td>\n<b>Urls:</b>\n</td>\n<td>\n<p>\n<a href=\"https://wafl.com.au/player/eva-o-donnell\" target=\"_blank\">WAFL</a>\n</p>\n</td>\n</tr>\n<tr>\n<td>\n<b>Phantom Draft Ranking (Afl):</b>\n</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>\n<b>Phantom Draft Ranking (Sporting News):</b>\n</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>\n<b>Phantom Draft Ranking (Fox Sports):</b>\n</td>\n<td>NA</td>\n</tr>\n<tr>\n<td>\n<b>Phantom Draft Ranking (Abc):</b>\n</td>\n<td>NA</td>\n</tr>\n</table>\n```\n:::\n:::\n\n\n\n## Seasons\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nseason_data_table |> \n  select(-playerId) |> \n  reactable(\n    columns = list(\n      season = colDef(name = \"Season\", sticky = \"left\"),\n      tier = colDef(name = \"Tier\", sticky = \"left\"),\n      comp_name = colDef(name = \"Competition\"),\n      games_played = colDef(name = \"Games\"),\n      fantasy_ceiling = colDef(name = \"Ceiling\"),\n      fantasy_floor = colDef(name = \"Floor\"),\n      fantasy_points = colDef(name = \"Average\", format = colFormat(digits = 1)),\n      goals = colDef(name = \"Goals\", format = colFormat(digits = 1)),\n      behinds = colDef(name = \"Behinds\", format = colFormat(digits = 1)),\n      kicks = colDef(name = \"Kicks\", format = colFormat(digits = 1)),\n      handballs = colDef(name = \"Handballs\", format = colFormat(digits = 1)),\n      disposals = colDef(name = \"Disposals\", format = colFormat(digits = 1)),\n      marks = colDef(name = \"Marks\", format = colFormat(digits = 1)),\n      tackles = colDef(name = \"Tackles\", format = colFormat(digits = 1)),\n      hitouts = colDef(name = \"Hitouts\", format = colFormat(digits = 1)),\n      frees_for = colDef(name = \"Frees For\", format = colFormat(digits = 1)),\n      frees_against = colDef(name = \"Frees Against\", format = colFormat(digits = 1))\n    ),\n    columnGroups = list(\n      colGroup(name = \"AFL Fantasy\", columns = c(\"fantasy_ceiling\", \"fantasy_floor\", \"fantasy_points\")),\n      colGroup(name = \"Average Stats\", columns = c(\"goals\", \"behinds\", \"kicks\", \"handballs\", \"disposals\", \"marks\", \"tackles\", \"hitouts\", \"frees_for\", \"frees_against\"))\n    ),\n    filterable = TRUE\n  )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"reactable html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-b5e9301605591559fb6e\" style=\"width:auto;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-b5e9301605591559fb6e\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"season\":[2023,2023],\"tier\":[\"State League\",\"Interstate Underage\"],\"comp_name\":[\"WAFLW League\",\"AFLW U18 Championships\"],\"games_played\":[8,1],\"fantasy_ceiling\":[108,52],\"fantasy_floor\":[27,52],\"fantasy_points\":[48.625,52],\"goals\":[0.5,0],\"behinds\":[0.5,\"NA\"],\"kicks\":[7,9],\"handballs\":[3.25,6],\"disposals\":[10.25,15],\"marks\":[2.125,3],\"tackles\":[3,1],\"hitouts\":[0,0],\"frees_for\":[0.375,\"NA\"],\"frees_against\":[0.375,\"NA\"]},\"columns\":[{\"id\":\"season\",\"name\":\"Season\",\"type\":\"numeric\",\"sticky\":\"left\"},{\"id\":\"tier\",\"name\":\"Tier\",\"type\":\"character\",\"sticky\":\"left\"},{\"id\":\"comp_name\",\"name\":\"Competition\",\"type\":\"character\"},{\"id\":\"games_played\",\"name\":\"Games\",\"type\":\"numeric\"},{\"id\":\"fantasy_ceiling\",\"name\":\"Ceiling\",\"type\":\"numeric\"},{\"id\":\"fantasy_floor\",\"name\":\"Floor\",\"type\":\"numeric\"},{\"id\":\"fantasy_points\",\"name\":\"Average\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"goals\",\"name\":\"Goals\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"behinds\",\"name\":\"Behinds\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"kicks\",\"name\":\"Kicks\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"handballs\",\"name\":\"Handballs\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"disposals\",\"name\":\"Disposals\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"marks\",\"name\":\"Marks\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"tackles\",\"name\":\"Tackles\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"hitouts\",\"name\":\"Hitouts\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"frees_for\",\"name\":\"Frees For\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}},{\"id\":\"frees_against\",\"name\":\"Frees Against\",\"type\":\"numeric\",\"format\":{\"cell\":{\"digits\":1},\"aggregated\":{\"digits\":1}}}],\"columnGroups\":[{\"name\":\"AFL Fantasy\",\"columns\":[\"fantasy_ceiling\",\"fantasy_floor\",\"fantasy_points\"]},{\"name\":\"Average Stats\",\"columns\":[\"goals\",\"behinds\",\"kicks\",\"handballs\",\"disposals\",\"marks\",\"tackles\",\"hitouts\",\"frees_for\",\"frees_against\"]}],\"filterable\":true,\"dataKey\":\"54b1259066e5c8aae63856d7905bff42\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\n## Matches\n\nNote that times below are (unfortunately) in Sydney/Melbourne time (in future I would like to make them local time instead).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmatch_data_table |> \n  select(-playerId) |> \n  reactable(\n    columns = list(\n      match_time = colDef(\n        name = \"Time\", sticky = \"left\", cell = function(cell_value, row_index, column_name){\n          match_url <- match_data_table[[\"match_url\"]][[row_index]]\n          tags$a(\n            format(cell_value, format = \"%e/%m/%Y\\n%I:%M %p\", tz = \"Australia/Melbourne\"),\n            href = match_url,\n            target = \"_blank\"\n          )\n        }\n      ),\n      match_url = colDef(show = FALSE),\n      is_home = colDef(show = FALSE),\n      team_name = colDef(name = \"Team\"),\n      opposition_name = colDef(name = \"Opposition\", cell = function(cell_value, row_index, column_name){\n        is_home <- match_data_table[[\"is_home\"]][[row_index]]\n        if(is_home) {\n          paste(\"vs.\", cell_value)\n        } else {\n          paste(\"@\", cell_value)\n        }\n      }),\n      tier = colDef(name = \"Tier\"),\n      match_type = colDef(name = \"Type\"),\n      round_abbreviation = colDef(name = \"Round\"),\n      comp_name = colDef(name = \"Competition\"),\n      position = colDef(name = \"Position\"),\n      fantasy_points = colDef(name = \"Fantasy Points\"),\n      goals = colDef(name = \"Goals\"),\n      behinds = colDef(name = \"Behinds\"),\n      kicks = colDef(name = \"Kicks\"),\n      handballs = colDef(name = \"Handballs\"),\n      disposals = colDef(name = \"Disposals\"),\n      marks = colDef(name = \"Marks\"),\n      tackles = colDef(name = \"Tackles\"),\n      hitouts = colDef(name = \"Hitouts\"),\n      frees_for = colDef(name = \"Frees For\"),\n      frees_against = colDef(name = \"Frees Against\")\n    ),\n    columnGroups = list(\n      colGroup(name = \"Match Info\", columns = c(\"tier\", \"comp_name\", \"match_type\", \"round_abbreviation\", \"team_name\", \"opposition_name\")),\n      colGroup(name = \"Average Stats\", columns = c(\"fantasy_points\", \"goals\", \"behinds\", \"kicks\", \"handballs\", \"disposals\", \"marks\", \"tackles\", \"hitouts\", \"frees_for\", \"frees_against\"))\n    ),\n    filterable = TRUE,\n    pagination = FALSE,\n    height = 750\n  )\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-aeb97c3e85d804c146dc\" class=\"reactable html-widget \" style=\"width:auto;height:750px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-aeb97c3e85d804c146dc\">{\"x\":{\"tag\":{\"name\":\"Reactable\",\"attribs\":{\"data\":{\"match_time\":[\"2023-05-20T07:00:00Z\",\"2023-05-13T04:00:00Z\",\"2023-05-06T09:00:00Z\",\"2023-04-30T04:00:00Z\",\"2023-04-16T06:00:00Z\",\"2023-04-01T08:45:00Z\",\"2023-03-26T06:00:00Z\",\"2023-03-19T06:00:00Z\",\"2023-03-12T06:00:00Z\"],\"tier\":[\"State League\",\"State League\",\"State League\",\"Interstate Underage\",\"State League\",\"State League\",\"State League\",\"State League\",\"State League\"],\"comp_name\":[\"WAFLW League 2023\",\"WAFLW League 2023\",\"WAFLW League 2023\",\"AFLW U18 Championships 2023\",\"WAFLW League 2023\",\"WAFLW League 2023\",\"WAFLW League 2023\",\"WAFLW League 2023\",\"WAFLW League 2023\"],\"match_url\":[\"https://wafl.com.au/match/waflw-south-fremantle-v-claremont-round-11-2023\",\"https://wafl.com.au/match/waflw-peel-thunder-v-claremont-round-10-2023\",\"https://wafl.com.au/match/waflw-east-fremantle-v-claremont-round-9-2023\",\"https://central.rookieme.com/afl/event/western-australia-girls-vs-south-australia-girls/\",\"https://wafl.com.au/match/waflw-claremont-v-south-fremantle-round-6-2023\",\"https://wafl.com.au/match/waflw-subiaco-v-claremont-round-4-2023\",\"https://wafl.com.au/match/waflw-swan-districts-v-claremont-round-3-2023\",\"https://wafl.com.au/match/waflw-claremont-v-peel-thunder-round-2-2023\",\"https://wafl.com.au/match/waflw-claremont-v-east-fremantle-round-1-2023\"],\"match_type\":[\"Regular\",\"Regular\",\"Regular\",\"Regular\",\"Regular\",\"Regular\",\"Regular\",\"Regular\",\"Regular\"],\"round_abbreviation\":[\"Rd 11\",\"Rd 10\",\"Rd 9\",null,\"Rd 6\",\"Rd 4\",\"Rd 3\",\"Rd 2\",\"Rd 1\"],\"is_home\":[false,false,false,true,true,false,false,true,true],\"team_name\":[\"Claremont\",\"Claremont\",\"Claremont\",\"Western Australia Girls\",\"Claremont\",\"Claremont\",\"Claremont\",\"Claremont\",\"Claremont\"],\"opposition_name\":[\"South Fremantle\",\"Peel Thunder\",\"East Fremantle\",\"South Australia Girls\",\"South Fremantle\",\"Subiaco\",\"Swan Districts\",\"Peel Thunder\",\"East Fremantle\"],\"position\":[null,null,null,\"Medium Forward\",null,null,null,null,null],\"fantasy_points\":[27,46,32,52,31,108,49,58,38],\"goals\":[1,0,0,0,0,3,0,0,0],\"behinds\":[0,0,0,\"NA\",0,2,1,1,0],\"kicks\":[4,7,5,9,3,16,10,7,4],\"handballs\":[2,3,5,6,3,4,1,4,4],\"disposals\":[6,10,10,15,6,20,11,11,8],\"marks\":[0,3,1,3,1,8,1,1,2],\"tackles\":[2,3,1,1,4,2,3,6,3],\"hitouts\":[0,0,0,0,0,0,0,0,0],\"frees_for\":[0,1,0,\"NA\",0,0,1,1,0],\"frees_against\":[1,1,0,\"NA\",1,0,0,0,0]},\"columns\":[{\"id\":\"match_time\",\"name\":\"Time\",\"type\":\"Date\",\"cell\":[{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-south-fremantle-v-claremont-round-11-2023\",\"target\":\"_blank\"},\"children\":[\"20/05/2023\\n05:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-peel-thunder-v-claremont-round-10-2023\",\"target\":\"_blank\"},\"children\":[\"13/05/2023\\n02:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-east-fremantle-v-claremont-round-9-2023\",\"target\":\"_blank\"},\"children\":[\" 6/05/2023\\n07:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://central.rookieme.com/afl/event/western-australia-girls-vs-south-australia-girls/\",\"target\":\"_blank\"},\"children\":[\"30/04/2023\\n02:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-claremont-v-south-fremantle-round-6-2023\",\"target\":\"_blank\"},\"children\":[\"16/04/2023\\n04:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-subiaco-v-claremont-round-4-2023\",\"target\":\"_blank\"},\"children\":[\" 1/04/2023\\n07:45 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-swan-districts-v-claremont-round-3-2023\",\"target\":\"_blank\"},\"children\":[\"26/03/2023\\n05:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-claremont-v-peel-thunder-round-2-2023\",\"target\":\"_blank\"},\"children\":[\"19/03/2023\\n05:00 PM\"]},{\"name\":\"a\",\"attribs\":{\"href\":\"https://wafl.com.au/match/waflw-claremont-v-east-fremantle-round-1-2023\",\"target\":\"_blank\"},\"children\":[\"12/03/2023\\n05:00 PM\"]}],\"sticky\":\"left\"},{\"id\":\"tier\",\"name\":\"Tier\",\"type\":\"character\"},{\"id\":\"comp_name\",\"name\":\"Competition\",\"type\":\"character\"},{\"id\":\"match_url\",\"name\":\"match_url\",\"type\":\"character\",\"show\":false},{\"id\":\"match_type\",\"name\":\"Type\",\"type\":\"character\"},{\"id\":\"round_abbreviation\",\"name\":\"Round\",\"type\":\"character\"},{\"id\":\"is_home\",\"name\":\"is_home\",\"type\":\"logical\",\"show\":false},{\"id\":\"team_name\",\"name\":\"Team\",\"type\":\"character\"},{\"id\":\"opposition_name\",\"name\":\"Opposition\",\"type\":\"character\",\"cell\":[\"@ South Fremantle\",\"@ Peel Thunder\",\"@ East Fremantle\",\"vs. South Australia Girls\",\"vs. South Fremantle\",\"@ Subiaco\",\"@ Swan Districts\",\"vs. Peel Thunder\",\"vs. East Fremantle\"]},{\"id\":\"position\",\"name\":\"Position\",\"type\":\"character\"},{\"id\":\"fantasy_points\",\"name\":\"Fantasy Points\",\"type\":\"numeric\"},{\"id\":\"goals\",\"name\":\"Goals\",\"type\":\"numeric\"},{\"id\":\"behinds\",\"name\":\"Behinds\",\"type\":\"numeric\"},{\"id\":\"kicks\",\"name\":\"Kicks\",\"type\":\"numeric\"},{\"id\":\"handballs\",\"name\":\"Handballs\",\"type\":\"numeric\"},{\"id\":\"disposals\",\"name\":\"Disposals\",\"type\":\"numeric\"},{\"id\":\"marks\",\"name\":\"Marks\",\"type\":\"numeric\"},{\"id\":\"tackles\",\"name\":\"Tackles\",\"type\":\"numeric\"},{\"id\":\"hitouts\",\"name\":\"Hitouts\",\"type\":\"numeric\"},{\"id\":\"frees_for\",\"name\":\"Frees For\",\"type\":\"numeric\"},{\"id\":\"frees_against\",\"name\":\"Frees Against\",\"type\":\"numeric\"}],\"columnGroups\":[{\"name\":\"Match Info\",\"columns\":[\"tier\",\"comp_name\",\"match_type\",\"round_abbreviation\",\"team_name\",\"opposition_name\"]},{\"name\":\"Average Stats\",\"columns\":[\"fantasy_points\",\"goals\",\"behinds\",\"kicks\",\"handballs\",\"disposals\",\"marks\",\"tackles\",\"hitouts\",\"frees_for\",\"frees_against\"]}],\"filterable\":true,\"pagination\":false,\"height\":\"750px\",\"dataKey\":\"a98ce76bd35a029dc05ccf48671f9362\"},\"children\":[]},\"class\":\"reactR_markup\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../../site_libs/core-js-2.5.3/shim.min.js\"></script>\n<script src=\"../../../site_libs/react-17.0.0/react.min.js\"></script>\n<script src=\"../../../site_libs/react-17.0.0/react-dom.min.js\"></script>\n<script src=\"../../../site_libs/reactwidget-1.0.0/react-tools.js\"></script>\n<script src=\"../../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<link href=\"../../../site_libs/reactable-0.4.4/reactable.css\" rel=\"stylesheet\" />\n<script src=\"../../../site_libs/reactable-binding-0.4.4/reactable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}